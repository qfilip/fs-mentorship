<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/w3-css/4.1.0/w3.min.css'
        integrity='sha512-Z6UIAdEZ7JNzeX5M/c5QZj+oqbldGD+E8xJEoOwAx5e0phH7kdjsWULGeK5l2UjehKtChHDaUY2rQAF/NEiI9w=='
        crossorigin='anonymous' />
    <title>F# Mentorship</title>
</head>

<body class="rpgui-content rpgui-cursor-default">

    <h1 class="">F# Mentorapp</h1>
    <hr class="golden">
        
    <button onclick="ping()">Ping Server</button>
    <button onclick="getAll()">GET All</button>
    <button onclick="getById()">GET by Id</button>
    <button onclick="postTest()">POST TEST</button>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js' integrity='sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==' crossorigin='anonymous'></script>
    <script>
        var data = [];
        var apiUrl = 'https://localhost:5001/api/cocktail/';
        
        function ping() {
            $.ajax({
                method: 'GET',
                url: `https://localhost:5001`,
                success: (response) => {
                    console.table(response);
                },
                error: (error) => console.log(error)
            })
        }

        function getAll() {
            $.ajax({
                method: 'GET',
                url: `${apiUrl}all`,
                success: (response) => {
                    console.table(response);
                    data = response;
                },
                error: (error) => console.log(error)
            });
        }

        function getById() {
            const id = data[0].id;
            const dto = { id: id };

            $.ajax({
                url: `${apiUrl}byid/${id}`,
                data: dto,
                method: 'GET',
                success: (response) => {
                    console.table(response);
                },
                error: (error) => console.log(error)
            });
        }

        function postTest() {
            const item = data[0];
            $.ajax({
                url: `${apiUrl}post-test`,
                method: 'POST',
                data: item,
                success: (r) => {
                    console.log(r);
                },
                error: (error) => {
                    console.log(error);
                }
            })
        }
        
    </script>
</body>

</html>